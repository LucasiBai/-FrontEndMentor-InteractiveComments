<article class="comment-article__box">
  <div class="comment-card__box">
    <div class="comment-header">
      <app-user-icon [user]="comment.user"></app-user-icon>
      <h4>{{ comment.user.username }}</h4>
      <h6>{{ comment.createdAt }}</h6>
    </div>

    <p>
      <span *ngIf="comment.replyingTo">
        {{ "@" + comment.replyingTo + " " }} </span
      >{{ comment.content }}
    </p>

    <div class="comment-interactive">
      <ng-container *ngIf="!ownComment; else ownCommentButtons">
        <button (click)="replyComment()">Reply</button>
      </ng-container>

      <ng-template #ownCommentButtons>
        <button (click)="deleteComment()">Delete</button>
      </ng-template>
    </div>
  </div>

  <app-comment-replies-list
    *ngIf="isReplying || (comment.replies && comment.replies.length > 0)"
    [replies]="comment.replies"
  >
  </app-comment-replies-list>
  <app-input-comment *ngIf="isReplying"></app-input-comment>
</article>
